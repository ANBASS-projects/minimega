## # Shorthands
## .alias list=.columns Bridge,Type,VM/interface,Mode,Compress,Path capture
## .alias nslist=.columns Bridge,Type,VM/interface,Mode,Compress,Path,Namespace capture

## # Start VMs in different namespaces
## vm config net A
## namespace foo vm launch kvm foo
## namespace foo vm launch kvm car
## namespace foo vm launch
## namespace bar vm launch kvm bar
## namespace bar vm launch kvm car
## namespace bar vm launch

## # Start captures in respective namespaces
## namespace foo capture pcap vm foo 0 /dev/null
## namespace bar capture pcap vm bar 0 /dev/null
## nslist
Bridge      | Type | VM/interface | Mode | Compress | Path      | Namespace
mega_bridge | pcap | bar:0        | N/A  | false    | /dev/null | bar
mega_bridge | pcap | foo:0        | N/A  | false    | /dev/null | foo
## namespace foo list
Bridge      | Type | VM/interface | Mode | Compress | Path
mega_bridge | pcap | foo:0        | N/A  | false    | /dev/null
## namespace bar list
Bridge      | Type | VM/interface | Mode | Compress | Path
mega_bridge | pcap | bar:0        | N/A  | false    | /dev/null

## # Make sure we only clear the capture in foo namespace
## namespace foo clear capture
## nslist
Bridge      | Type | VM/interface | Mode | Compress | Path      | Namespace
mega_bridge | pcap | bar:0        | N/A  | false    | /dev/null | bar
## namespace foo list
## namespace bar list
Bridge      | Type | VM/interface | Mode | Compress | Path
mega_bridge | pcap | bar:0        | N/A  | false    | /dev/null

## # Clear out all captures
## clear capture
## nslist

## # Capture VMs with same names in different namespaces
## namespace foo capture pcap vm car 0 /dev/null
## namespace bar capture pcap vm car 0 /dev/null
## nslist
Bridge      | Type | VM/interface | Mode | Compress | Path      | Namespace
mega_bridge | pcap | car:0        | N/A  | false    | /dev/null | bar
mega_bridge | pcap | car:0        | N/A  | false    | /dev/null | foo

## # Cleanup
## .unalias list
## .unalias nslist
