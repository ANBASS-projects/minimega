# Shorthands
.alias list=.columns Bridge,Type,VM/interface,Mode,Compress,Path capture
.alias nslist=.columns Bridge,Type,VM/interface,Mode,Compress,Path,Namespace capture

# Start VMs in different namespaces
vm config net A
namespace foo vm launch kvm foo
namespace foo vm launch kvm car
namespace foo vm launch
namespace bar vm launch kvm bar
namespace bar vm launch kvm car
namespace bar vm launch

# Start captures in respective namespaces
namespace foo capture pcap vm foo 0 /dev/null
namespace bar capture pcap vm bar 0 /dev/null
nslist
namespace foo list
namespace bar list

# Make sure we only clear the capture in foo namespace
namespace foo clear capture
nslist
namespace foo list
namespace bar list

# Clear out all captures
clear capture
nslist

# Capture VMs with same names in different namespaces
namespace foo capture pcap vm car 0 /dev/null
namespace bar capture pcap vm car 0 /dev/null
nslist

# Cleanup
.unalias list
.unalias nslist
