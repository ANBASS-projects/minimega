<!DOCTYPE html>
<!--
 - igorweb.html
 - This file holds the visual aspects of IgorWeb, sent from the server on a request to /.
 - All static files in IgorWeb are referenced from this file.
 - End of the file has javascript template variables that are filled by web.go
 -      for initial reservation information. The rest comes from requests made
 -      by igorweb.js.
 -->

<html lang="en-US">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- External files: JQuery, Bootstrap, igorweb.css -->
    <script src="./static/jquery-3.3.1.min.js"></script>
    <link href="./static/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <script src="./static/bootstrap.min.js" crossorigin="anonymous"></script>
    <link href="./static/bootstrap-grid.min.css" rel="stylesheet" crossorigin="anonymous">
    <link href="./static/bootstrap-reboot.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="./static/igorweb.css">
</head>
<body style="background-color: whitesmoke">
    <!-- Navigation bar -->
    <nav class="navbar fixed-top navbar-dark">
        <!-- IgorWeb logo -->
        <span class="navbar-brand mdl" style="margin-left: 10%; color: white; font-size: 2.25em; font-family: Logo, sans-serif;"><b class="mdl">Igor</b><i>Web</i></span>
        <!-- Text that shows how many nodes are selected -->
        <span id="selecttext" class="mdl navbar-item" style="color: white; font-size: 1.25em; font-weight: bold; display: none;"></span>
        <!-- Key, Show/hide key -->
        <button id="keybtn" class="active navbar btn btn-outline-light mdl" style="margin-right: 18%" data-toggle="tooltip" data-placement="bottom" title="Show/hide key">Key</button>
        <!-- New reservation button, floating blue plus -->
        <div id="newbutton" class="clickable mdl" data-toggle="tooltip" data-placement="bottom" title="Make a new reservation">+</div>
    </nav>
    <!-- Container of node grid, key, and reservation table -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-1"></div>
            <div class="col-10">
                <div class="row" style="margin-top: 9em">
                    <div class="col">
                        <div id="nodegridcard" class="card mx-auto text-center" style="width: 1000px; margin-bottom: 3em; background-color: #e7ccff; border: none;">
                            <div class="card-body">
                                <div id="nodegrid" class="row" style="margin: 0.5em; min-height: 400px;">
                                    <!-- Node grid -->
                                </div>
                            </div>
                        </div>
                        <!-- Key -->
                        <div id="key" class="card mx-auto text-center" style="width: 400px; margin-bottom: 3em; border: none;">
                            <div class="card-body">
                                <table class="table table-borderless">
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td class="mdl key available clickable tdhover headtext">
                                                Available
                                            </td>
                                            <td class="mdl key reserved clickable tdhover headtext">
                                                Reserved
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="mdl key up clickable tdhover headtext">
                                                Up
                                            </td>
                                            <td class="mdl key available up clickable tdhover">
                                                <div class="mdl mx-auto keycolor available up unselected">
                                                </div>
                                            </td>
                                            <td class="mdl key reserved up clickable tdhover">
                                                <div class="mdl mx-auto keycolor reserved up unselected">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="mdl key down clickable tdhover headtext">
                                                Down
                                            </td>
                                            <td class="mdl key available down clickable tdhover">
                                                <div class="mdl mx-auto keycolor available down unselected">
                                                </div>
                                            </td>
                                            <td class="mdl key reserved down clickable tdhover">
                                                <div class="mdl mx-auto keycolor reserved down unselected">
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card mx-auto" style="width: 800px; margin-bottom: 4em;">
                            <div class="card-body">
                                <div id="table" class="row mdl" style="margin: 0.5em; opacity: 1;">
                                    <!-- Reservation table -->
                                    <table class="table table-hover table-borderless mdl">
                                        <thead class="mdl">
                                            <tr class="mdl">
                                                <!-- Reservation table headers with sorting arrows -->
                                                <th id="rtname" class="mdl restableheader clickable" scope="col">Name
                                                    <span id="rtnamedown" class="mdl sortarrow down"> ▼</span>
                                                    <span id="rtnameup" class="mdl sortarrow up"> ▲</span>
                                                </th>
                                                <th id="rtowner" class="mdl restableheader clickable" scope="col">Owner
                                                    <span id="rtownerdown" class="mdl sortarrow down"> ▼</span>
                                                    <span id="rtownerup" class="mdl sortarrow up"> ▲</span>
                                                </th>
                                                <th id="rtstart" class="mdl restableheader clickable" scope="col">Start Time
                                                    <span id="rtstartdown" class="mdl sortarrow down"> ▼</span>
                                                    <span id="rtstartup" class="mdl sortarrow up"> ▲</span>
                                                </th>
                                                <th id="rtend" class="mdl restableheader clickable" scope="col">End Time
                                                    <span id="rtenddown" class="mdl sortarrow down"> ▼</span>
                                                    <span id="rtendup" class="mdl sortarrow up"> ▲</span>
                                                </th>
                                                <th id="rtnumber" class="mdl restableheader clickable" scope="col"># of Nodes
                                                    <span id="rtnumberdown" class="mdl sortarrow down"> ▼</span>
                                                    <span id="rtnumberup" class="mdl sortarrow up"> ▲</span>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody id="res_table" class="mdl">
                                            <!-- Reservation table data -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-1"></div>
        </div>
    </div>
    <!-- New reservation modal -->
    <div class="modal fade mdl" id="newresmodal" tabindex="-1" role="dialog" aria-labelledby="New Reservation" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered mdl" role="document">
            <div class="modal-content mdl">
                <div class="modal-header m-3 mdl">
                    <h5 class="modal-title text-center col-12 mdl" id="modaltitle"><b class="mdl" id="newresmaintitle">New Reservation</b><b class="mdl" id="newresspectitle" style="display: none;">Available Reservations</b></h5>
                    <button type="button" class="close mdl" data-dismiss="modal" aria-label="Close" style="position: absolute; right: 15px; top: 10px;">
                        <span class="mdl" aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body m-3 mdl">
                    <!-- Main new reservation page with all fields, switch to speculate page by clicking Speculate -->
                    <form id="newresmain" class="mdl">
                        <!-- Reservation name, -r -->
                        <div class="form-group mdl">
                            <div class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Reservation name">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="dashrcode" class="mdl">-r</code></div>
                                </div>
                                <input id="dashr" type="text" class="dash form-control mdl" placeholder="Reservation name" autofocus>
                            </div>
                        </div>
                        <!-- Switch for (kernel and initrd) or (cobbler profile) -->
                        <div class="mdl btn-group" role="group" aria-label="Use kernel and initrd or Cobbler profile?" style="width: 100%; margin-bottom: 0;">
                            <button id="nrmodalki" type="button" class="modalswitch btn btn-light mdl" style="width: 50%;">Use kernel and initrd</button>
                            <button id="nrmodalcobbler" type="button" class="modalswitch btn btn-light mdl" style="width: 50%;">Use Cobbler profile</button>
                        </div>
                        <!-- Kernel path, -k, only shows if left side of above switch is active -->
                        <div class="form-group switchki mdl" style="margin-bottom: 10px;">
                            <div id="dashkparent" class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Location of the kernel the nodes should boot. This kernel will be copied to a separate directory for use.">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl">
                                        <code id="dashkcode" class="mdl">-k</code>
                                    </div>
                                </div>
                                <input id="dashk" type="text" class="dash form-control mdl" placeholder="Kernel path">
                            </div>
                        </div>
                        <!-- Initrd path, -i, only shows if left side of above switch is active -->
                        <div class="form-group switchki mdl">
                            <div id="dashiparent" class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Location of the initrd the nodes should boot. This file will be copied to a separate directory for use.">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="dashicode" class="mdl">-i</code></div>
                                </div>
                                <input id="dashi" type="text" class="dash form-control mdl" placeholder="Initrd path">
                            </div>
                        </div>
                        <!-- Cobbler profile, -p, only shows if right side of above switch is active -->
                        <div class="form-group switchcobbler mdl">
                            <div id="dashpparent" class="input-group mdl">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="dashpcode" class="mdl">-p</code></div>
                                </div>
                                <input id="dashp" type="text" class="dash form-control mdl" placeholder="Cobbler profile">
                            </div>
                        </div>
                        <!-- Switch for (number of nodes) or (node list) -->
                        <div class="mdl btn-group" role="group" aria-label="Number of nodes or node list?" style="width: 100%; margin-bottom: 0;">
                            <button id="nrmodalnumnodes" type="button" class="modalswitch btn btn-light mdl" style="width: 50%;">Number of nodes</button>
                            <button id="nrmodalnodelist" type="button" class="modalswitch btn btn-light mdl" style="width: 50%;">Node list</button>
                        </div>
                        <!-- Number of nodes, -n, only shows if left side of above switch is active -->
                        <div class="form-group mdl switchnumnodes">
                            <div id="dashnparent" class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Number of nodes">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="dashncode" class="mdl">-n</code></div>
                                </div>
                                <input id="dashn" type="number" class="dash form-control mdl" min="1" placeholder="Number of nodes">
                            </div>
                        </div>
                        <!-- Node list, -w, only shows if the right side of the above switch is active -->
                        <div class="form-group mdl switchnodelist">
                            <div id="dashwparent" class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Node list, e.g. 34, 57, 158 ...">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="dashwcode" class="mdl">-w</code></div>
                                </div>
                                <input id="dashw" type="text" class="dash form-control mdl" placeholder="Node list">
                            </div>
                        </div>
                        <!-- The rest of the fields are optional -->
                        <i class="mb-2 mdl">Optional:</i>
                        <div class="mb-4 mdl" style="border-top: 1px solid #e9ecef; border-bottom: 1px solid #e9ecef; padding-top: 5px;">
                            <!-- Command line arguments, -c, optional -->
                            <div class="form-group mdl">
                                <div class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="e.g. console=tty0">
                                    <div class="input-group-prepend mdl">
                                        <div class="input-group-text mdl"><code id="dashccode" class="mdl" style="color: royalblue;">-c</code></div>
                                    </div>
                                    <input id="dashc" type="text" class="dash form-control mdl" placeholder="Command line arguments">
                                </div>
                            </div>
                            <!-- Reservation length, -t, optional, 60m by default -->
                            <div class="form-group mdl">
                                <div class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Time denominations should be specified in days(d), hours(h), and minutes(m), in that order. Unitless numbers are treated as minutes. Days are defined as 24*60 minutes. Example: To make a reservation for 7 days: 7d. To make a reservation for 4 days, 6 hours, 30 minutes: 4d6h30m (default = 60m).">
                                    <div class="input-group-prepend mdl">
                                        <div class="input-group-text mdl"><code id="dashtkcode" class="mdl" style="color: royalblue;">-t</code></div>
                                    </div>
                                    <input id="dasht" value="60m" type="text" class="dash form-control mdl" placeholder="Reservation length">
                                </div>
                            </div>
                            <!-- After this date, -a, optional, set automatically if Reserve is clicked from Speculate page -->
                            <div class="form-group mdl">
                                <div class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Indicates that the reservation should take place on or after the specified time, given in the format '2017-Jan-2-15:04'. Especially useful on Speculate.">
                                    <div class="input-group-prepend mdl">
                                        <div class="input-group-text mdl"><code id="dashacode" class="mdl" style="color: royalblue;">-a</code></div>
                                    </div>
                                    <input id="dasha" type="text" class="dash form-control mdl" placeholder="After this date">
                                </div>
                            </div>
                        </div>
                    </form>
                    <!-- Speculate page of new reservation modal, switch back to main page by clicking Back -->
                    <div class="mdl" id="newresspec" style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #e9ecef; display: none;">
                        <!-- Table of possible reservation times, 10 rows, each has Start Time, End Time, and Reserve button -->
                        <table class="mdl table table-borderless">
                            <thead class="mdl">
                                <tr class="mdl">
                                    <th class="mdl" scope="col">Start Time</th>
                                    <th class="mdl" scope="col">End Time</th>
                                    <th class="mdl" scope="col"></th>
                                </tr>
                            </thead>
                            <tbody class="mdl" id="spec_table">
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                                <tr class="mdl">
                                    <td class="align-middle mdl">
                                    </td>
                                    <td class="align-middle mdl">
                                    </td>
                                   <td class="mdl"><button type="button" style="background-color: #a975d6; border-color: #a975d6; margin-left: 38px;" class="modalbtn specreserve igorbtn btn btn-primary mdl modalcommand reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Command box, updates command text as user constructs it from filling fields.
                                Shows exactly what will be run on igor -->
                    <div class="card commandline mdl"><code id="commandline" class="mdl" style="color: seagreen;"></code></div>
                    <!-- Response box, appears once a response is received from the server.
                                Green if success, red if failure -->
                    <div class="card commandline mdl responseparent" style="display: none; margin-top: 20px;">
                        <table class="mdl" style="width: 100%;">
                            <tbody class="mdl">
                                <tr class="mdl">
                                    <td style="word-break: break-all;" class="mdl">
                                        <code class="response mdl" style="color: white;"></code>
                                    </td>
                                    <!-- Copy response to clipboard -->
                                    <td data-toggle="tooltip" data-placement="bottom" title="Copy to clipboard" class="mdl" style="vertical-align: top;">
                                        <svg class="copy mdl clickable" style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path class="mdl" fill="#ffffff" d="M16,15H12V18L7,13L12,8V11H16M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z" />
                                        </svg>
                                        <span class="mdl copytooltip" style="opacity: 0; display: none;">Copied!</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Buttons at bottom of modal -->
                <div class="modal-footer m-3 mdl">
                    <!-- Cancel, exits modal, only shows on main reservation page -->
                    <button type="button" class="modalbtn igorbtn btn btn-secondary mr-auto mdl cancel" id="newrescancel" data-dismiss="modal">Cancel</button>
                    <!-- Back, returns to main page from speculate page -->
                    <button type="button" class="modalbtn igorbtn btn btn-secondary mr-auto mdl" id="newresback" style="display: none;">Back</button>
                    <!-- Speculate, runs a speculate command and goes to speculate page -->
                    <button type="button" style="background-color: #ff902d; border-color: #ff902d;" class="modalbtn newresmodalgobtn igorbtn btn btn-primary mdl modalcommand speculate" id="speculate" disabled><span class="mdl mdlcmdtext speculate">Speculate</span><div style="visibility: hidden" class="mdl loader speculate"></div></button>
                    <!-- Reserve, sends reserve command to server -->
                    <button type="button" style="background-color: #a975d6; border-color: #a975d6;" class="modalbtn newresmodalgobtn igorbtn btn btn-primary mdl modalcommand" id="reserve" disabled><span class="mdl mdlcmdtext">Reserve</span><div style="visibility: hidden" class="mdl loader"></div></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Power-cycle modal -->
    <div class="modal fade mdl" id="powermodal" tabindex="-1" role="dialog" aria-labelledby="Power-Cycle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered mdl" role="document">
            <div class="modal-content mdl">
                <div class="modal-header m-3 mdl">
                    <h5 class="modal-title text-center col-12 mdl" id="pmodaltitle"><b class="mdl">Power-Cycle</b></h5>
                    <button type="button" class="close mdl" data-dismiss="modal" aria-label="Close" style="position: absolute; right: 15px; top: 10px;">
                        <span class="mdl" aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body m-3 mdl">
                    <!-- Form with all of the fields -->
                    <form class="mdl">
                        <!-- Switch between using a reservation or node list -->
                        <div class="mdl btn-group" role="group" aria-label="By reservation or node list?" style="width: 100%; margin-bottom: 0;">
                            <button id="pmodalres" type="button" class="modalswitch btn btn-light mdl" style="width: 50%;">By Reservation</button>
                            <button id="pmodalnodelist" type="button" class="modalswitch btn btn-light mdl" style="width: 50%;">By Node List</button>
                        </div>
                        <!-- Reservation name, -r, only shows if left side of above switch is active -->
                        <div id="pdashrfg" class="form-group mdl">
                            <div class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Reservation name">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="pdashrcode" class="mdl">-r</code></div>
                                </div>
                                <input id="pdashr" type="text" class="pdash form-control mdl" placeholder="Reservation name" autofocus>
                            </div>
                        </div>
                        <!-- Node list, -n, only shows if right side of above switch is active -->
                        <div id="pdashnfg" class="form-group mdl nodelistoption2">
                            <div id="pdashnparent" class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Node list, e.g. 34, 57, 158 ...">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="pdashncode" class="mdl">-n</code></div>
                                </div>
                                <input id="pdashn" type="text" class="pdash form-control mdl" placeholder="Node list">
                            </div>
                        </div>
                    </form>
                    <!-- Command box, updates command text as user constructs it from filling fields.
                                Shows exactly what will be run on igor -->
                    <div class="card commandline mdl"><code id="pcommandline" class="mdl" style="color: seagreen;"></code></div>
                    <!-- Response box, appears once a response is received from the server.
                                Green if success, red if failure -->
                    <div class="card commandline mdl responseparent" style="display: none; margin-top: 20px;">
                        <table class="mdl" style="width: 100%;">
                            <tbody class="mdl">
                                <tr class="mdl">
                                    <td style="word-break: break-all;" class="mdl">
                                        <code class="response mdl" style="color: white;"></code>
                                    </td>
                                    <!-- Copy response to clipboard -->
                                    <td class="copy mdl clickable" data-toggle="tooltip" data-placement="bottom" title="Copy to clipboard" style="vertical-align: top;">
                                        <svg class="mdl" style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path class="mdl" fill="#ffffff" d="M16,15H12V18L7,13L12,8V11H16M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z" />
                                        </svg>
                                        <span class="mdl copytooltip" style="opacity: 0; display: none;">Copied!</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Buttons at bottom of modal -->
                <div class="modal-footer m-3 mdl">
                    <!-- Cancel, exits modal, only shows on main reservation page -->
                    <button type="button" class="modalbtn igorbtn btn btn-secondary mr-auto mdl cancel" data-dismiss="modal">Cancel</button>
                    <!-- On, submits a igor power on command to the server -->
                    <button type="button" style="background-color: mediumseagreen; border-color: mediumseagreen;" class="modalbtn powermodalgobtn igorbtn btn btn-primary mdl modalcommand" id="on" disabled><span class="mdl mdlcmdtext">On</span><div style="visibility: hidden" class="mdl loader"></div></button>
                    <!-- Off, submits a igor power off command to the server -->
                    <button type="button" style="background-color: lightcoral; border-color: lightcoral;" class="modalbtn powermodalgobtn igorbtn btn btn-primary mdl modalcommand" id="off" disabled><span class="mdl mdlcmdtext">Off</span><div style="visibility: hidden" class="mdl loader"></div></button>
                    <!-- Cycle, submits a igor power cycle command to the server -->
                    <button type="button" class="modalbtn powermodalgobtn igorbtn btn btn-primary mdl modalcommand" id="cycle" disabled><span class="mdl mdlcmdtext">Cycle</span><div style="visibility: hidden" class="mdl loader"></div></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Delete reservation modal -->
    <div class="modal fade mdl" id="deleteresmodal" tabindex="-1" role="dialog" aria-labelledby="Delete Reservation?" aria-hidden="true">
        <div id="deletemodaldialog" class="modal-dialog modal-sm modal-dialog-centered mdl" role="document">
            <div class="modal-content mdl">
                <div class="modal-header m-3 mdl" style="padding-bottom: 0px; margin-bottom: 5px !important; border: none;">
                    <h5 class="modal-title text-center col-12 mdl" id="dmodaltitle"><b class="mdl">Delete reservation?</b></h5>
                    <button type="button" class="close mdl" data-dismiss="modal" aria-label="Close" style="position: absolute; right: 15px; top: 10px;">
                        <span class="mdl" aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!-- Response box, appears once a response is received from the server.
                            Green if success, red if failure -->
                <div class="card commandline mdl responseparent" style="display: none; margin: 20px;">
                    <table class="mdl" style="width: 100%;">
                        <tbody class="mdl">
                            <tr class="mdl">
                                <td style="word-break: break-all;" class="mdl">
                                    <code class="response mdl" style="color: white;"></code>
                                </td>
                                <!-- Copy response to clipboard -->
                                <td data-toggle="tooltip" data-placement="bottom" title="Copy to clipboard" class="mdl" style="vertical-align: top;">
                                    <svg class="copy mdl clickable" style="width:24px;height:24px" viewBox="0 0 24 24">
                                        <path class="mdl" fill="#ffffff" d="M16,15H12V18L7,13L12,8V11H16M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z" />
                                    </svg>
                                    <span class="mdl copytooltip" style="opacity: 0; display: none;">Copied!</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Buttons at bottom of modal -->
                <div class="modal-footer m-3 mdl" style="padding-top: 20px; margin-top: 20px;">
                    <!-- Cancel, exits modal, only shows on main reservation page -->
                    <button type="button" class="modalbtn igorbtn btn btn-secondary mr-auto mdl cancel" data-dismiss="modal">Cancel</button>
                    <!-- Delete, sends a igor del command to the server -->
                    <button type="button" style="background-color: #a975d6; border-color: #a975d6;" class="modalbtn deleteresmodalgobtn igorbtn btn btn-primary mdl modalcommand" id="delete"><span class="mdl mdlcmdtext">Delete</span><div style="visibility: hidden" class="mdl loader"></div></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Extend reservation modal -->
    <div class="modal fade mdl" id="extendmodal" tabindex="-1" role="dialog" aria-labelledby="Extend Reservation" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered mdl" role="document">
            <div class="modal-content mdl">
                <div class="modal-header m-3 mdl">
                    <h5 class="modal-title text-center col-12 mdl" id="emodaltitle"><b class="mdl">Extend Reservation</b></h5>
                    <button type="button" class="close mdl" data-dismiss="modal" aria-label="Close" style="position: absolute; right: 15px; top: 10px;">
                        <span class="mdl" aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!-- Form with all of the fields -->
                <div class="modal-body m-3 mdl">
                    <form class="mdl">
                        <!-- Reservation name, -r -->
                        <div class="form-group mdl">
                            <div class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Reservation name">
                                <div class="input-group-prepend mdl">
                                    <div class="input-group-text mdl"><code id="edashrcode" class="mdl">-r</code></div>
                                </div>
                                <input id="edashr" type="text" class="edash form-control mdl" placeholder="Reservation name" autofocus>
                            </div>
                        </div>
                        <i class="mb-2 mdl">Optional:</i>
                        <!-- Extension length, -t, optional, default is 60m -->
                        <div class="mb-4 mdl" style="border-top: 1px solid #e9ecef; border-bottom: 1px solid #e9ecef; padding-top: 5px;">
                            <div class="form-group mdl">
                                <div class="input-group mdl" data-toggle="tooltip" data-placement="bottom" title="Time denominations should be specified in days(d), hours(h), and minutes(m), in that order. Unitless numbers are treated as minutes. Days are defined as 24*60 minutes. Example: To make a reservation for 7 days: -t 7d. To make a reservation for 4 days, 6 hours, 30 minutes: -t 4d6h30m (default = 60m).">
                                    <div class="input-group-prepend mdl">
                                        <div class="input-group-text mdl"><code id="edashtcode" class="mdl" style="color: royalblue;">-t</code></div>
                                    </div>
                                    <input id="edasht" value="60m" type="text" class="edash form-control mdl" placeholder="Extension length">
                                </div>
                            </div>
                        </div>
                    </form>
                    <!-- Command box, updates command text as user constructs it from filling fields.
                                Shows exactly what will be run on igor -->
                    <div class="card commandline mdl"><code id="ecommandline" class="mdl" style="color: seagreen;"></code></div>
                    <!-- Response box, appears once a response is received from the server.
                                Green if success, red if failure -->
                    <div class="card commandline mdl responseparent" style="display: none; margin-top: 20px;">
                        <table class="mdl" style="width: 100%;">
                            <tbody class="mdl">
                                <tr class="mdl">
                                    <td style="word-break: break-all;" class="mdl">
                                        <code class="response mdl" style="color: white;"></code>
                                    </td>
                                    <!-- Copy response to clipboard -->
                                    <td class="mdl" data-toggle="tooltip" data-placement="bottom" title="Copy to clipboard" style="vertical-align: top;">
                                        <svg class="copy mdl clickable" svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                            <path class="mdl" fill="#ffffff" d="M16,15H12V18L7,13L12,8V11H16M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z" />
                                        </svg>
                                        <span class="mdl copytooltip" style="opacity: 0; display: none;">Copied!</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Buttons at bottom of modal -->
                <div class="modal-footer m-3 mdl">
                    <!-- Cancel, exits modal, only shows on main reservation page -->
                    <button type="button" class="modalbtn igorbtn btn btn-secondary mr-auto mdl cancel" data-dismiss="modal">Cancel</button>
                    <button type="button" style="background-color: #a975d6; border-color: #a975d6;" class="modalbtn extendmodalgobtn igorbtn btn btn-primary mdl modalcommand" id="extend" disabled><span class="mdl mdlcmdtext">Extend</span><div style="visibility: hidden" class="mdl loader"></div></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Action bar, shows when a reservation or nodes are selected.
                Delete and Extend only show if a reservation is selected -->
    <div id="actionbar" class="mx-auto fixed-bottom card actionbar">
        <!-- Delete a reservation, only shows when a reservation is selected -->
        <button id="deleteresbtn" class="igorbtn btn btn-outline-light actionbar resaction" data-focus="false" data-toggle="modal" data-target="#deleteresmodal">Delete Reservation</button>
        <!-- Power-cycle nodes or a reservation -->
        <button id="powerbtn" class="igorbtn btn btn-outline-light actionbar" data-focus="false" data-toggle="modal" data-target="#powermodal">Power-Cycle Nodes</button>
        <!-- Extend reservation, only shows if a reservation is selected -->
        <button id="extendresbtn" class="igorbtn btn btn-outline-light actionbar resaction" data-focus="false" data-toggle="modal" data-target="#extendmodal">Extend Reservation</button>
        <!-- Close action bar, deselects all selections -->
        <span class="close clickable closeactionbar">&times;</span>
    </div>
</body>
<!-- server fills these variables in using templates before sending the file to the client -->
<script>
    // first number in node grid
    var startNode = {{ .StartNode }};
    // last number in node grid
    var endNode = {{ .EndNode }};
    // number of nodes in each row a.k.a. number of columns in node grid
    var rackWidth = {{ .RackWidth }};
    // prefix of current cluster
    var cluster = {{ .Cluster }};
    // reservation data, will be updated on heartbeat and command execution
    var reservations = {{ .ResTableRows }}
</script>
<!-- all of the javascript code that runs the page -->
<script src="./static/igorweb.js"></script>
</html>
